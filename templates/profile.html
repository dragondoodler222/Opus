{% extends "layout.html" %}

{% block title %}
    {{ session.user_name }}'s Profile
{% endblock %}


{% block head %}
    <link href="/static/profile.css" rel="stylesheet">
{% endblock %}


{% block mainnocont %}
	<div class="profile-outer">
		<div class = "name-section">
		 	<div style="display: flex; align-items: center;">
				<div style = "margin-left: 12px;">
					<svg viewBox="0 0 36 36" class="level-display-outer">
						<path class="level-display-bg"
			        d="M18 2.0845
			          a 15.9155 15.9155 0 0 1 0 31.831
			          a 15.9155 15.9155 0 0 1 0 -31.831"
			      />
					  <path class = "level-display"
					    d="M18 2.0845
					      a 15.9155 15.9155 0 0 1 0 31.831
					      a 15.9155 15.9155 0 0 1 0 -31.831"
					    fill="none"
					    stroke="#444";
					    stroke-width="1";
					    stroke-dasharray="{{ user["level-progress"] }}, 100";
					  />
					  <text x="18" y="22.8" class="level">{{level}}</text>
					</svg>
				</div>
				<h1 class="profile-username">{{session.user_name}}</h1>
			</div>
			<div class = "tasks-completed">
				<span>10</span>
				<div>Tasks Completed</div>
			</div>
			<div class = "point-count">
				<span>200</span>
				<div>Points</div>
			</div>
			<div class = "active-tasks">
				<span>{{ task_count }}</span>
				<div>Active Tasks</div>
			</div>
		</div>

		<div class = "information">
			<h2>Active Tasks</h2>
			<div class = "a-tasks">
				{% for task in active_tasks %}
					<div class="task">
						<span class="task-name">{{ task["title"] }}</span>
						<span class="task-creator">{{ task["creator"] }}</span>
						<div class="task-stats">
							<span class="task-time">{{ task["hmin"] }}-{{ task["hmax"] }} hours</span>
							<span class="task-collaborator-count">{{ len(task["collaborators"]) }}/{{ task["cmax"] }} collaborators</span>
						</div>
					</div>
				{% endfor %}
			</div>
		</div>
	</div>
	
{% endblock %}
